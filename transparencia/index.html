<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transparência - Por Famalicão</title>
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/stpageflip@2.0.7/dist/css/style.css">
    <script id="pageflip-cdn" src="https://cdn.jsdelivr.net/npm/stpageflip@2.0.7/dist/js/page-flip.browser.min.js"></script>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GGMKSV2EBF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GGMKSV2EBF');
</script>


<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="/">
                    <img src="/image/logo.png" alt="Por Famalicão" style="max-width:120px; height:auto;">
                </a>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="/candidatura/" class="nav-link">Candidatura</a>
                <a href="/equipas/" class="nav-link">Quem Somos</a>
                <a href="/programaeleitoral/" class="nav-link">Programa Eleitoral</a>
                <a href="/transparencia/" class="nav-link">Transparência</a>
                <a href="/galeria/" class="nav-link">Galeria</a>
                <a href="/contactos/" class="nav-link">Contactos</a>
            </div>
            <div class="nav-hamburger" id="nav-hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>


    <!-- Hero Section -->
    <section class="page-hero">
        <div class="container">
            <h1>Transparência</h1>
            <p>A transparência é um princípio basilar da candidatura Por Famalicão. Nesta página disponibilizamos todos os processos, relatórios e documentos relevantes, para que cada cidadão possa acompanhar, de forma clara e acessível, cada etapa da candidatura e da campanha.</p>
        </div>
    </section>


    <section class="transparency-section" style="margin-top: 48px; margin-bottom: 64px;">
        <div class="container">
            <div class="container" style="display: flex; gap: 32px; flex-wrap: wrap; justify-content: center;">

      <div class="transparency-card" style="display: flex; flex-direction: column; align-items: center; max-width: 220px; background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 16px;">
        <h3 style="margin-bottom: 10px; text-align: center;">Visão Estratégica</h3>
        <img src="/image/visaoestrategica.png" alt="Processo de Candidatura" style="width:100%;max-width:220px;border-radius:8px;">
        <div style="width: 100%; display: flex; justify-content: center;">
        <a
            href="javascript:void(0)"
            class="consultar-btn flip-open"
            data-folder="/image/docs/visaoestrategica"
            data-prefix="visaoestrategica-"
            data-ext="png"
            data-count="29"
            data-pad="2"
            style="text-align: center;">Consultar Documento
        </a>        
      </div>
    </div>


    <div class="transparency-card" style="display: flex; flex-direction: column; align-items: center; max-width: 220px; background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 16px;">
        <h3 style="margin-bottom: 10px; text-align: center;">Processo de Candidatura</h3>
        <img src="/image/apresentaçãocandidatura.png" alt="Processo de Candidatura" style="width:100%;max-width:220px;border-radius:8px;">
        <div style="width: 100%; display: flex; justify-content: center;">
        <a
            href="javascript:void(0)"
            class="consultar-btn flip-open"
            data-folder="/image/docs/candidaturafinal"
            data-prefix="candidaturafinal-"
            data-ext="png"
            data-count="73"
            data-pad="2"
            style="text-align: center;">Consultar Documento
        </a>
    </div>
    </div>

    <div class="transparency-card" style="display: flex; flex-direction: column; align-items: center; max-width: 220px; background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 16px;">
        <h3 style="margin-bottom: 10px; text-align: center;">Processo de Impugnação</h3>
        <img src="/image/impugnação.png" alt="Processo de Candidatura" style="width:100%;max-width:220px;border-radius:8px;">
        <div style="width: 100%; display: flex; justify-content: center;">
        <a
              href="javascript:void(0)"
            class="consultar-btn flip-open"
              data-folder="/image/docs/impugnacao"
              data-prefix="impugnacao-"
              data-ext="png"
              data-count="37"
              data-pad="2"
              style="text-align: center;">Consultar Documento
          </a>          
      </div>
    </div>
  
    <div class="transparency-card" style="display: flex; flex-direction: column; align-items: center; max-width: 220px; background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 16px;">
        <h3 style="margin-bottom: 10px; text-align: center;">Contas da Campanha</h3>
        <img src="/image/Contas.png" alt="Processo de Candidatura" style="width:100%;max-width:220px;border-radius:8px;">
        <div style="width: 100%; display: flex; justify-content: center;">
        <a
            href="javascript:void(0)"
            class="consultar-btn"
            data-folder="/image/docs/processocandidatura"
            data-prefix="candidaturatribunal-"
            data-ext="png"
            data-count="88"
            data-pad="2"
            style="text-align: center;">Em Breve
        </a>        
      </div>
    </div>

    <div class="transparency-card" style="display: flex; flex-direction: column; align-items: center; max-width: 220px; background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 16px;">
        <h3 style="margin-bottom: 10px; text-align: center;">Boletim de Voto</h3>
        <img src="/image/boletimvoto.png" alt="Processo de Candidatura" style="width:100%;max-width:220px;border-radius:8px;">
        <div style="width: 100%; display: flex; justify-content: center;">
        <a
              href="javascript:void(0)"
            class="consultar-btn flip-open"
              data-folder="/image/docs/boletim"
              data-prefix="boletim-"
              data-ext="png"
              data-count="1"
              data-pad="2"
              style="text-align: center;">Consultar Documento
          </a>          
      </div>
    </div>

    

    

</div>

        <style>
        .consultar-btn {
            display: inline-block;
            margin-top: 10px;
            padding: 8px 18px;
            background: #003299;
            color: #fff;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            transition: background 0.2s;
        }
        .consultar-btn:hover {
            background: #001e5c;
        }
        </style>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Por Famalicão</h3>
                    <p>Unir Gerações, Construir Soluções.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/porfamalicao" target="_blank" aria-label="Facebook">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2.04c-5.5 0-10 4.49-10 10.02c0 5 3.66 9.15 8.44 9.9v-7H7.9v-2.9h2.54V9.85c0-2.51 1.49-3.89 3.78-3.89c1.09 0 2.23.19 2.23.19v2.47h-1.26c-1.24 0-1.63.77-1.63 1.56v1.88h2.78l-.45 2.9h-2.33v7a10 10 0 0 0 8.44-9.9c0-5.53-4.5-10.02-10-10.02Z"/>
                            </svg>
                        </a>
                        <a href="https://www.instagram.com/porfamalicao/" target="_blank" aria-label="Instagram">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0C8.74 0 8.333.015 7.053.072C5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053C.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913a5.885 5.885 0 0 0 1.384 2.126A5.868 5.868 0 0 0 4.14 23.37c.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558a5.898 5.898 0 0 0 2.126-1.384a5.86 5.86 0 0 0 1.384-2.126c.296-.765.499-1.636.558-2.913c.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913a5.89 5.89 0 0 0-1.384-2.126A5.847 5.847 0 0 0 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071c1.17.055 1.805.249 2.227.415c.562.217.96.477 1.382.896c.419.42.679.819.896 1.381c.164.422.36 1.057.413 2.227c.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227a3.81 3.81 0 0 1-.899 1.382a3.744 3.744 0 0 1-1.38.896c-.42.164-1.065.36-2.235.413c-1.274.057-1.649.07-4.859.07c-3.211 0-3.586-.015-4.859-.074c-1.171-.061-1.816-.256-2.236-.421a3.716 3.716 0 0 1-1.379-.899a3.644 3.644 0 0 1-.9-1.38c-.165-.42-.359-1.065-.42-2.235c-.045-1.26-.061-1.649-.061-4.844c0-3.196.016-3.586.061-4.861c.061-1.17.255-1.814.42-2.234c.21-.57.479-.96.9-1.381c.419-.419.81-.689 1.379-.898c.42-.166 1.051-.361 2.221-.421c1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678a6.162 6.162 0 1 0 0 12.324a6.162 6.162 0 1 0 0-12.324zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4s4 1.79 4 4s-1.79 4-4 4zm7.846-10.405a1.441 1.441 0 0 1-2.88 0a1.44 1.44 0 0 1 2.88 0z"/>                            </svg>
                        </a>
                        <a href="https://wa.me/351960400494" target="_blank" aria-label="WhatsApp">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M16.6 14c-.2-.1-1.5-.7-1.7-.8c-.2-.1-.4-.1-.6.1c-.2.2-.6.8-.8 1c-.1.2-.3.2-.5.1c-.7-.3-1.4-.7-2-1.2c-.5-.5-1-1.1-1.4-1.7c-.1-.2 0-.4.1-.5c.1-.1.2-.3.4-.4c.1-.1.2-.3.2-.4c.1-.1.1-.3 0-.4c-.1-.1-.6-1.3-.8-1.8c-.1-.7-.3-.7-.5-.7h-.5c-.2 0-.5.2-.6.3c-.6.6-.9 1.3-.9 2.1c.1.9.4 1.8 1 2.6c1.1 1.6 2.5 2.9 4.2 3.7c.5.2.9.4 1.4.5c.5.2 1 .2 1.6.1c.7-.1 1.3-.6 1.7-1.2c.2-.4.2-.8.1-1.2l-.4-.2m2.5-9.1C15.2 1 8.9 1 5 4.9c-3.2 3.2-3.8 8.1-1.6 12L2 22l5.3-1.4c1.5.8 3.1 1.2 4.7 1.2c5.5 0 9.9-4.4 9.9-9.9c.1-2.6-1-5.1-2.8-7m-2.7 14c-1.3.8-2.8 1.3-4.4 1.3c-1.5 0-2.9-.4-4.2-1.1l-.3-.2l-3.1.8l.8-3l-.2-.3c-2.4-4-1.2-9 2.7-11.5S16.6 3.7 19 7.5c2.4 3.9 1.3 9-2.6 11.4"/>
                            </svg>                        
                        </a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Navegação</h4>
                    <ul>
                        <li><a href="/candidatura/">Candidatura</a></li>
                        <li><a href="/equipas/">Quem Somos</a></li>
                        <li><a href="/programaeleitoral/">Programa Eleitoral</a></li>
                        <li><a href="/transparencia/">Transparência</a></li>
                        <li><a href="/galeria/">Galeria</a></li>
                        <li><a href="/contactos/">Contactos</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contactos</h4>
                    <p>
                        <a href="mailto:apoio@porfamalicao.pt" style="color:inherit;text-decoration:none;">
                        apoio@porfamalicao.pt
                    </a>
                    </p>
                    <p>
                        <a href="tel:+351960400494" style="color:inherit;text-decoration:none;">
                        +351 960 400 494
                        </a>
                    </p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Por Famalicão. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>


<!-- Flipbook Modal -->
<div id="flip-modal" aria-hidden="true" role="dialog" aria-modal="true" style="display:none; position:fixed; inset:0; z-index:9999;">
  <div id="flip-overlay" style="position:absolute; inset:0; background:rgba(0,0,0,.65);"></div>

  <div id="flip-shell" style="position:relative; margin:3.5vh auto; width:min(95vw,1100px); height:min(92vh,800px);
              background:#fff; border-radius:12px; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,.35);">
    <button id="flip-close" aria-label="Fechar"
      style="position:absolute; top:10px; right:10px; z-index:5; background:#fff; border:0; border-radius:10px; padding:.5rem .7rem; cursor:pointer;">✕</button>
    <button id="flip-prev" aria-label="Página anterior"
      style="position:absolute; left:12px; top:50%; transform:translateY(-50%); z-index:5; background:#ffffffd9; border:0; border-radius:10px; padding:.5rem .6rem; cursor:pointer;">◀</button>
    <button id="flip-next" aria-label="Página seguinte"
      style="position:absolute; right:12px; top:50%; transform:translateY(-50%); z-index:5; background:#ffffffd9; border:0; border-radius:10px; padding:.5rem .6rem; cursor:pointer;">▶</button>

    <div id="flip-counter"
      style="position:absolute; left:50%; bottom:10px; transform:translateX(-50%);
             z-index:5; background:#ffffffcc; padding:.25rem .5rem; border-radius:8px; font:600 12px/1 Inter, system-ui;">1 / 1</div>

    <div id="flip-container" class="flip-wrapper" style="width:100%; height:100%; background:#fff;"></div>
  </div>
</div>

<!-- StPageFlip (CDN) -->
<link rel="stylesheet" href="https://unpkg.com/stpageflip@2.0.7/dist/css/style.css">
<script src="https://unpkg.com/stpageflip@2.0.7/dist/js/page-flip.browser.min.js"></script>

<!-- Script do flipbook (mobile = 1 página) -->
<script>
(function () {
  const modal     = document.getElementById('flip-modal');
  const overlay   = document.getElementById('flip-overlay');
  const closeBtn  = document.getElementById('flip-close');
  const prevBtn   = document.getElementById('flip-prev');
  const nextBtn   = document.getElementById('flip-next');
  const counterEl = document.getElementById('flip-counter');
  const container = document.getElementById('flip-container');

  let pages = [];
  let total = 0;
  let first = 1; // página atual (1-based)

  function lockScroll(lock) {
    document.documentElement.style.overflow = lock ? 'hidden' : '';
    document.body.style.overflow = lock ? 'hidden' : '';
  }

  function buildImages(folder, prefix, ext, count, pad) {
    const base = (folder || '').replace(/\/+$/, '');
    const out = [];
    for (let i = 1; i <= count; i++) {
      const n = String(i).padStart(pad, '0');
      out.push(`${base}/${prefix}${n}.${ext}`);
    }
    return out;
  }

  function makeImg(src, half = false) {
    const img = document.createElement('img');
    img.src = src;
    img.alt = '';
    img.style.maxHeight = '95%';
    img.style.maxWidth  = half ? '48%' : '90%';
    img.style.height = 'auto';
    img.style.width  = 'auto';
    img.style.display = 'block';
    img.style.borderRadius = '2px';
    img.style.boxShadow = '0 0 0 1px rgba(0,0,0,.05)';
    return img;
  }

  // 🔸 Em mobile, forçamos 1 página
  function isSingleView() {
    return window.matchMedia('(max-width: 900px)').matches;
  }

  function show(firstPage) {
    const single = isSingleView();

    // clamp ao limite correto para single vs. spread
    let lastFirst;
    if (single) {
      lastFirst = Math.max(1, total);
    } else {
      lastFirst = (total <= 1) ? 1 : (total % 2 === 0 ? total - 1 : total);
    }
    if (firstPage < 1) firstPage = 1;
    if (firstPage > lastFirst) firstPage = lastFirst;

    // Se mudarmos para desktop, garantir que spreads começam em número par (exceto capa)
    if (!single && firstPage !== 1 && firstPage % 2 !== 0) {
      firstPage -= 1;
    }
    first = firstPage;

    // layout do container
    container.innerHTML = '';
    container.style.display = 'flex';
    container.style.alignItems = 'center';
    container.style.gap = '24px';
    container.style.background = '#fff';
    container.style.justifyContent = single ? 'center' : (first === 1 ? 'flex-end' : 'center');

    if (single) {
      // 📱 Mobile: sempre 1 página ao centro
      container.appendChild(makeImg(pages[first - 1], false));
      counterEl.textContent = `${first} / ${total}`;
      return;
    }

    // 🖥️ Desktop: capa isolada; restantes em spreads
    if (first === 1) {
      container.appendChild(makeImg(pages[0], false));
      counterEl.textContent = `1 / ${total}`;
    } else {
      container.appendChild(makeImg(pages[first - 1], true));       // esquerda
      if (first + 1 <= total) container.appendChild(makeImg(pages[first], true)); // direita
      counterEl.textContent = `${first}–${Math.min(first + 1, total)} / ${total}`;
    }
  }

  function next() {
    if (isSingleView()) {
      show(first + 1);                 // mobile: +1
    } else {
      if (first === 1) show(2);        // capa -> 2–3
      else show(first + 2);            // 2–3 -> 4–5 ...
    }
  }

  function prev() {
    if (isSingleView()) {
      show(first - 1);                 // mobile: -1
    } else {
      if (first === 1) return;         // já na capa
      if (first === 2) show(1);        // 2–3 -> capa
      else show(first - 2);            // 6–7 -> 4–5 ...
    }
  }

  function openModal(list) {
    pages = list;
    total = pages.length;
    modal.style.display = 'block';
    lockScroll(true);
    show(1); // começa na capa
  }

  function closeModal() {
    modal.style.display = 'none';
    lockScroll(false);
    container.innerHTML = '';
    pages = [];
    total = 0;
    first = 1;
  }

  // abrir ao clicar no botão .flip-open
  document.addEventListener('click', (e) => {
    const btn = e.target.closest('.flip-open');
    if (!btn) return;
    e.preventDefault();

    const folder = btn.getAttribute('data-folder');
    const prefix = btn.getAttribute('data-prefix') || '';
    const ext    = btn.getAttribute('data-ext') || 'png';
    const count  = parseInt(btn.getAttribute('data-count') || '0', 10);
    const pad    = parseInt(btn.getAttribute('data-pad') || '2', 10);

    if (!folder || !count) {
      alert('Botão mal configurado (folder/count).');
      return;
    }

    const images = buildImages(folder, prefix, ext, count, pad);

    // testa a 1ª imagem antes de abrir
    const probe = new Image();
    probe.onload  = () => openModal(images);
    probe.onerror = () => {
      alert('Não encontrei a 1ª página:\n' + images[0]);
      console.error('Falhou:', images[0]);
    };
    probe.src = images[0];
  });

  // navegação / fecho
  prevBtn.addEventListener('click', prev);
  nextBtn.addEventListener('click', next);
  closeBtn.addEventListener('click', closeModal);
  overlay.addEventListener('click', closeModal);

  document.addEventListener('keydown', (e) => {
    if (modal.style.display !== 'block') return;
    if (e.key === 'Escape')     closeModal();
    if (e.key === 'ArrowRight') next();
    if (e.key === 'ArrowLeft')  prev();
  });

  // Recalcular layout ao redimensionar (ex.: virar o telemóvel)
  window.addEventListener('resize', () => {
    if (modal.style.display === 'block') show(first);
  });
})();
</script>

<script src="/script.js"></script>
</body>
</html>